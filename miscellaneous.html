<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Miscellaneous | vuex-rest-api </title>
    <meta name="description" content="A helper utility to simplify the usage of REST APIs with Vuex">
    
    
    <link rel="preload" href="/vuex-rest-api/assets/css/0.styles.89939eda.css" as="style"><link rel="preload" href="/vuex-rest-api/assets/js/app.62022365.js" as="script"><link rel="preload" href="/vuex-rest-api/assets/js/8.9b60fd6e.js" as="script"><link rel="prefetch" href="/vuex-rest-api/assets/js/3.2b4c7406.js"><link rel="prefetch" href="/vuex-rest-api/assets/js/2.cda51ec0.js"><link rel="prefetch" href="/vuex-rest-api/assets/js/4.875c9a90.js"><link rel="prefetch" href="/vuex-rest-api/assets/js/5.ecb5ba1a.js"><link rel="prefetch" href="/vuex-rest-api/assets/js/6.bc1a9729.js"><link rel="prefetch" href="/vuex-rest-api/assets/js/7.a393f670.js">
    <link rel="stylesheet" href="/vuex-rest-api/assets/css/0.styles.89939eda.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vuex-rest-api/" class="home-link router-link-active"><!----> <span class="site-name">vuex-rest-api </span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vuex-rest-api/" class="nav-link">Home</a></div><div class="nav-item"><a href="https://github.com/christianmalek/vuex-rest-api" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/vuex-rest-api/" class="nav-link">Home</a></div><div class="nav-item"><a href="https://github.com/christianmalek/vuex-rest-api" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/vuex-rest-api/" class="sidebar-link">Introduction</a></li><li><a href="/vuex-rest-api/how-to-use.html" class="sidebar-link">How to use</a></li><li><a href="/vuex-rest-api/api.html" class="sidebar-link">API</a></li><li><a href="/vuex-rest-api/miscellaneous.html" class="active sidebar-link">Miscellaneous</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuex-rest-api/miscellaneous.html#calling-the-actions" class="sidebar-link">Calling the actions</a></li><li class="sidebar-sub-header"><a href="/vuex-rest-api/miscellaneous.html#add-additional-state-actions-and-mutations-to-the-store" class="sidebar-link">Add additional state, actions and mutations to the store</a></li><li class="sidebar-sub-header"><a href="/vuex-rest-api/miscellaneous.html#usage-with-websanova-vue-auth" class="sidebar-link">Usage with websanova/vue-auth</a></li><li class="sidebar-sub-header"><a href="/vuex-rest-api/miscellaneous.html#check-error-and-loading-state-of-requests" class="sidebar-link">Check error and loading state of requests</a></li></ul></li><li><a href="/vuex-rest-api/changelog.html" class="sidebar-link">Changelog</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="miscellaneous"><a href="#miscellaneous" aria-hidden="true" class="header-anchor">#</a> Miscellaneous</h1> <h2 id="calling-the-actions"><a href="#calling-the-actions" aria-hidden="true" class="header-anchor">#</a> Calling the actions</h2> <p>Please respect the following function signature if you want to call an action:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// direct via store</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">&quot;actionName&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> params<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> data<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// or with mapActions</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">actionName</span><span class="token punctuation">(</span><span class="token punctuation">{</span> params<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> data<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>`
</code></pre></div><p><code>params</code> (optional) represents the data you passed to the <code>path</code> property.
<code>data</code> (optional) is your request's payload.</p> <p>Please note that you <strong>do not</strong> have to set params, data or the enclosing object if you don't need them.</p> <p>Examples:</p> <ul><li>If you want to request all posts with the action <code>listPosts</code> and don't have any data or params, you could call it like this:</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// direct via store</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">&quot;listPosts&quot;</span><span class="token punctuation">)</span>

<span class="token comment">// or with mapActions</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">listPosts</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><ul><li>If you want to fetch a specific post with an parameter named <em>id</em> call one of the following:</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// direct via store</span>
<span class="token keyword">const</span> params <span class="token operator">=</span> <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token number">42</span> <span class="token punctuation">}</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">&quot;getPost&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> params <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// or with mapActions</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getPost</span><span class="token punctuation">(</span><span class="token punctuation">{</span> params <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><ul><li>If you have an action where you have data and params to set, just do it like this:</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// direct via store</span>
<span class="token keyword">const</span> params <span class="token operator">=</span> <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token number">42</span> <span class="token punctuation">}</span>
<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">{</span> content<span class="token punctuation">:</span> <span class="token string">&quot;foobar&quot;</span> <span class="token punctuation">}</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">&quot;actionName&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> params<span class="token punctuation">,</span> data <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// or with mapActions</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">actionName</span><span class="token punctuation">(</span><span class="token punctuation">{</span> params<span class="token punctuation">,</span> data <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="query-params"><a href="#query-params" aria-hidden="true" class="header-anchor">#</a> Query params</h3> <p>If you want to use query params just set the <code>queryParams</code> property either in the constructor or the options from the add method. If you need it for just one action set it in the corresponding method. On the other hand, if you need it for all actions, set it in the constructor.</p> <p>Please note that the method's <code>queryParams</code> property is <em>more specific</em> than the constructor's. So if you set <code>queryParams</code> in a method's options it will override the <code>queryParams</code> value of the constructor option!</p> <p>Params will also be appended to the URL if you set a <code>paramsSerializer</code> function in the <code>requestConfig</code> property of the <code>add</code> method or if you pass an axios instance with set <code>paramsSerializer</code> function in the Resource constructor.</p> <h2 id="add-additional-state-actions-and-mutations-to-the-store"><a href="#add-additional-state-actions-and-mutations-to-the-store" aria-hidden="true" class="header-anchor">#</a> Add additional state, actions and mutations to the store</h2> <p>As mentioned before, <em>vuex-rest-api</em> is just creating a regular store object. So you can add arbitrary actions, mutations and state properties to the store as written in the <a href="https://vuex.vuejs.org/en/core-concepts.html" target="_blank" rel="noopener noreferrer">Vuex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// resource creation hidden for the sake of brevity</span>

<span class="token comment">// create the store</span>
posts <span class="token operator">=</span> postsResource<span class="token punctuation">.</span><span class="token function">getStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// add a simple counter to the store</span>
posts<span class="token punctuation">.</span>state<span class="token punctuation">.</span>counter <span class="token operator">=</span> <span class="token number">0</span>
posts<span class="token punctuation">.</span>mutations<span class="token punctuation">.</span><span class="token function-variable function">increment</span> <span class="token operator">=</span> state <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  state<span class="token punctuation">.</span>counter<span class="token operator">++</span>
<span class="token punctuation">}</span>
posts<span class="token punctuation">.</span>actions<span class="token punctuation">.</span><span class="token function-variable function">increment</span> <span class="token operator">=</span> context <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  context<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&quot;increment&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="usage-with-websanova-vue-auth"><a href="#usage-with-websanova-vue-auth" aria-hidden="true" class="header-anchor">#</a> Usage with websanova/vue-auth</h2> <p>If you want to use this little helper with vue-auth you don't have to do anything. It will just work due to the fact that vue-auth uses the global axios instance. Don't pass any axios instance to Vapi and it will work.</p> <h2 id="check-error-and-loading-state-of-requests"><a href="#check-error-and-loading-state-of-requests" aria-hidden="true" class="header-anchor">#</a> Check error and loading state of requests</h2> <p><code>vuex-rest-api</code> sets for every property set in the <code>add()</code> method two different states:</p> <ul><li><code>state.pending.&lt;propertyName&gt;</code> (<code>true</code> when loading, otherwise <code>false</code>)</li> <li><code>state.error.&lt;propertyName&gt;</code> (<code>null</code> if there's no error, otherwise it contains the error object)</li></ul> <p>This is really handy if you want to show a loading hint for specific requests or an error message:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>li v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;post in posts&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>post<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>p v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;pending.posts&quot;</span><span class="token operator">&gt;</span>loading posts<span class="token operator">...</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>p v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;error.posts&quot;</span><span class="token operator">&gt;</span>loading failed<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> mapState<span class="token punctuation">,</span> mapActions <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getPosts</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">// make states available</span>
  computed<span class="token punctuation">:</span> <span class="token function">mapState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    posts<span class="token punctuation">:</span> state <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>posts<span class="token punctuation">.</span>posts<span class="token punctuation">,</span>
    pending<span class="token punctuation">:</span> state <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>pending<span class="token punctuation">,</span>
    error<span class="token punctuation">:</span> state <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>error
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
      <span class="token string">&quot;getPosts&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">8/13/2018, 9:17:37 PM</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/vuex-rest-api/api.html" class="prev">
          API
        </a></span> <span class="next"><a href="/vuex-rest-api/changelog.html">
          Changelog
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/vuex-rest-api/assets/js/8.9b60fd6e.js" defer></script><script src="/vuex-rest-api/assets/js/app.62022365.js" defer></script>
  </body>
</html>
